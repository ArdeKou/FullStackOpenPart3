{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/numbers.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","filter","changeEvent","react_default","a","createElement","onChange","PersonForm","onSubmit","nameValue","numValue","changeName","changeNum","value","type","Person","person","delEvent","name","number","onClick","Persons","persons","peopleToShow","toLowerCase","includes","map","components_Person","key","url","numbers","axios","get","then","response","data","newObject","post","id","put","concat","delete","Notification","message","style","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNum","setNewNum","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","_useState11","_useState12","msgStyle","setMsgStyle","useEffect","numService","initialNums","catch","error","console","log","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personObj","find","window","confirm","updated","setTimeout","returnedNum","components_Persons","removed","initPerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.1160e954.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filter, changeEvent}) => {\r\n    return (\r\n        <div>\r\n            Filter: \r\n            <input\r\n                filter={filter}\r\n                onChange={changeEvent}\r\n                \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit, nameValue, numValue, changeName, changeNum}) => {\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n            <div>\r\n                Name: <input\r\n                    value={nameValue}\r\n                    onChange={changeName}\r\n                />\r\n            </div>\r\n            <div>\r\n                Number: <input\r\n                    value={numValue}\r\n                    onChange={changeNum}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button type='submit'>Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, delEvent }) => {\r\n    return (\r\n        <div>\r\n            {person.name} {person.number} \r\n            <button \r\n                type=\"delete\" \r\n                onClick={() => delEvent(person)}>\r\n                Delete\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, filter, delEvent }) => {\r\n\r\n    //Filter\r\n    const peopleToShow = persons.filter(person =>\r\n        person.name.toLowerCase()\r\n        .includes(filter.toLowerCase()))\r\n\r\n    //Person render\r\n    const renderPeople = () => peopleToShow.map(person =>   \r\n        <Person key={person.name} person={person} delEvent={delEvent}/>\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            {renderPeople()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst url = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(url, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${url}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst del = (id) => {\r\n    const request = axios.delete(`${url}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\nexport default { getAll, create, update, del }","import React from 'react'\r\n\r\n//style: Del, Edit, Add\r\nconst Notification = ({ message, style }) => {\r\n    if (message === null){\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={style}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect} from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons  from './components/Persons'\r\nimport numService from './services/numbers'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n    //states\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNum, setNewNum] = useState('')\r\n    const [filter, setFilter] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n    const [msgStyle, setMsgStyle] = useState(null)\r\n\r\n    //database getAll\r\n    useEffect(() => {\r\n        numService\r\n            .getAll()\r\n            .then(initialNums => {\r\n                setPersons(initialNums)\r\n            })\r\n            .catch(error => {\r\n                setMessage(error.response.data)\r\n                setMsgStyle('Err')\r\n                console.log(error.response.data)\r\n            })\r\n    }, [])\r\n\r\n    //add person eventhandler\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        const personObj = {\r\n            name: newName,\r\n            number: newNum\r\n        }\r\n        const personExists = persons.find(person => person.name === newName)\r\n        if (!personExists) {\r\n            numService\r\n                .create(personObj)\r\n                .then(returnedNum => {\r\n                    setPersons(persons.concat(returnedNum))\r\n                })\r\n                .catch(error => {\r\n                    setMessage(error.response.data)\r\n                    setMsgStyle('Err')\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                        setMsgStyle(null)\r\n                    }, 5000)\r\n                })\r\n\r\n            setMessage(`Added ${personObj.name}`)\r\n            setMsgStyle('Add')\r\n            setTimeout(() => {\r\n                setMessage(null)\r\n                setMsgStyle(null)\r\n            }, 5000)\r\n            setNewName('')\r\n            setNewNum('')\r\n        }\r\n        \r\n        else\r\n            if(window.confirm(`${newName} is already added to the phonebook, would you like to update the number`)){\r\n                numService\r\n                .update((persons.find(person => person.name === personObj.name)).id, personObj)\r\n                .then(updated => {\r\n                    setPersons(persons.filter(person => person.name !== updated.name).concat(updated))\r\n                })\r\n                .catch(error => {\r\n                    //setMessage(`${newName} doesn't exist on the server`)\r\n                    setMessage(error.response.data)\r\n                    setMsgStyle('Err')\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                        setMsgStyle(null)\r\n                    }, 5000)\r\n                })\r\n\r\n                setMessage(`Edited ${personObj.name}`)\r\n                setMsgStyle('Edit')\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                    setMsgStyle(null)\r\n                }, 5000)\r\n\r\n             }\r\n            setNewName('')\r\n            setNewNum('')\r\n    }\r\n\r\n    //Delete number\r\n    const deletePerson = (person) => {\r\n        if (window.confirm(`Delete ${person.name}?`)){\r\n            numService\r\n            .del(person.id)\r\n            .then(removed => {\r\n                setPersons(persons.filter(initPerson =>\r\n                    initPerson.id !== person.id\r\n                ))\r\n            })\r\n            .catch(error => {\r\n                console.log(person.name)\r\n                //setMessage(`${person.name} doesn't exist on the server`)\r\n                setMessage(error.response.data)\r\n                setMsgStyle('Err')\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                    setMsgStyle(null)\r\n                }, 5000)\r\n            })\r\n\r\n            setMessage(`Deleted ${person.name}`)\r\n            setMsgStyle('Del')\r\n            setTimeout(() => {\r\n                setMessage(null)\r\n                setMsgStyle(null)\r\n            }, 5000)\r\n        }\r\n    }\r\n\r\n    //eventhandlers\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n\r\n    }\r\n\r\n    const handleNumChange = (event) => {\r\n        setNewNum(event.target.value)\r\n    } \r\n\r\n    const handleFilter = (event) => {\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Phonebook</h1>\r\n            <Notification message={message} style={msgStyle}/>\r\n            <Filter \r\n                filter={filter} \r\n                changeEvent={handleFilter}\r\n            />\r\n            <h2>Add new</h2>\r\n            <PersonForm\r\n                onSubmit={addPerson}\r\n                nameValue={newName}\r\n                numValue={newNum}\r\n                changeName={handleNameChange}\r\n                changeNum={handleNumChange}\r\n            />\r\n            <h2>Numbers</h2>\r\n            <Persons \r\n                persons={persons}\r\n                filter={filter}\r\n                delEvent={deletePerson}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}